"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[156],{879:(e,s,a)=>{a.d(s,{A:()=>i});a(43);var t=a(475),l=(a(665),a(945),a(579));const r=()=>(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)(t.Link,{className:"header-item",to:"/main",children:"\ud83c\udfe0 Home"}),(0,l.jsx)(t.Link,{className:"header-item",to:"/place/list",children:"\uc5ec\ud589\uc9c0 \uc815\ubcf4"}),(0,l.jsx)(t.Link,{className:"header-item",to:"/board/list",children:"\ub9ac\ubdf0 \ubaa9\ub85d"}),(0,l.jsx)(t.Link,{className:"header-item",to:"/mypage",children:"\ub9c8\uc774 \ud398\uc774\uc9c0"}),(0,l.jsxs)("div",{className:"header-icons",children:[(0,l.jsx)(t.Link,{to:"/profile",children:(0,l.jsx)("img",{src:"/assets/user.jpg",alt:"Profile",className:"icon"})}),(0,l.jsx)(t.Link,{to:"/settings",children:(0,l.jsx)("img",{src:"/assets/setting.jpg",alt:"Settings",className:"icon"})})]})]}),n=e=>{let{children:s}=e;return(0,l.jsx)("div",{className:"d-flex",id:"wrapper",children:(0,l.jsxs)("div",{id:"page-content-wrapper",children:[(0,l.jsx)(r,{}),(0,l.jsx)("div",{className:"container-fluid",children:s})]})})};const i=function(e){let{children:s}=e;return(0,l.jsxs)("header",{children:[(0,l.jsx)(n,{}),(0,l.jsx)("div",{children:(0,l.jsx)("main",{children:s})})]})}},156:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(43),l=a(213),r=a(216),n=(a(665),a(945),a(879));var i=a(579);const c=()=>{const[e,s]=(0,t.useState)([]),[a,c]=(0,t.useState)([]),[d,o]=(0,t.useState)(!1),m=(0,t.useRef)(),u=(0,t.useRef)(),p=(0,t.useRef)(),h=(0,t.useRef)(),x=(0,r.Zp)(),j=async(e,s)=>{try{await async function(e,s){return(await l.A.delete(`http://localhost:8080/api/remove/${e}_${s}`)).data}(e,s),c((s=>s.filter((s=>s.uuid!==e))))}catch(a){console.error("File removal failed:",a)}};return(0,i.jsx)(n.A,{children:(0,i.jsxs)("div",{className:"container mt-3",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header",children:"Board Register"}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=new FormData;s.append("title",m.current.value),s.append("content",u.current.value),s.append("writer",p.current.value),a.forEach((e=>{s.append("fileNames",`${e.uuid}_${e.fileName}`)}));try{await l.A.post("http://localhost:8080/api/board/register",s,{headers:{"Content-Type":"multipart/form-data"}}),x("/board/list")}catch(t){console.error("Form submission failed:",t)}},children:[(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"\uc81c\ubaa9"}),(0,i.jsx)("input",{type:"text",ref:m,className:"form-control",placeholder:"Title"})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"\ub0b4\uc6a9"}),(0,i.jsx)("textarea",{ref:u,className:"form-control col-sm-5",rows:"5"})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"\uae00\uc4f4\uc774"}),(0,i.jsx)("input",{type:"text",ref:p,className:"form-control",placeholder:"Writer",readOnly:!0})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"\uc774\ubbf8\uc9c0"}),(0,i.jsx)("div",{className:"float-end uploadHidden",children:(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>o(!0),children:"ADD Files"})})]}),(0,i.jsx)("div",{className:"my-4",children:(0,i.jsxs)("div",{className:"float-end",children:[(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\uc81c\ucd9c"}),(0,i.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"\ub9ac\uc14b"})]})})]})})]}),(0,i.jsx)("div",{className:"row mt-3",children:(0,i.jsx)("div",{className:"col",children:(0,i.jsx)("div",{className:"container-fluid d-flex uploadResult",style:{flexWrap:"wrap"},children:a.map((e=>(0,i.jsxs)("div",{className:"card col-4",children:[(0,i.jsxs)("div",{className:"card-header d-flex justify-content-center",children:[e.fileName,(0,i.jsx)("button",{className:"btn-sm btn-danger ms-2",onClick:()=>j(e.uuid,e.fileName),children:"X"})]}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsx)("img",{src:e.url,alt:e.fileName})})]},e.uuid)))})})}),(0,i.jsx)("div",{className:"modal "+(d?"show d-block":""),tabIndex:"-1",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",children:"\uc5c5\ub85c\ub4dc \ud30c\uc77c"}),(0,i.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o(!1)})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsx)("div",{className:"input-group mb-3",children:(0,i.jsx)("input",{type:"file",ref:h,className:"form-control",multiple:!0})})}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{const e=new FormData;for(let s of h.current.files)e.append("files",s);try{const s=await async function(e){return console.log("upload to server......"),console.log(e),(await(0,l.A)({method:"post",url:"http://localhost:8080/api/upload",data:e,headers:{"Content-Type":"multipart/form-data"}})).data}(e);c(s.map((e=>({...e,url:`http://localhost:8080/api/view/${e.uuid}_${e.fileName}`})))),o(!1)}catch(a){console.error("Upload failed:",a),s(["\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."])}},children:"\uc5c5\ub85c\ub4dc"}),(0,i.jsx)("button",{type:"button",className:"btn btn-outline-dark",onClick:()=>o(!1),children:"\ub2eb\uae30"})]})]})})})]})})}}}]);
//# sourceMappingURL=156.fce41b20.chunk.js.map