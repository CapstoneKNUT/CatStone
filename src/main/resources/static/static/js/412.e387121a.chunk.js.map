{"version":3,"file":"static/js/412.e387121a.chunk.js","mappings":"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","sources":["components/menus/basic.js","layout/BasicLayout.js","pages/board/modify.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nconst Header = () => (\n    <div className=\"header\">\n        <Link className=\"header-item\" to=\"/main\">🏠 Home</Link>\n        <Link className=\"header-item\" to=\"/place/list\">여행지 정보</Link>\n        <Link className=\"header-item\" to=\"/board/list\">리뷰 목록</Link>\n        <Link className=\"header-item\" to=\"/mypage\">마이 페이지</Link>\n        <div className=\"header-icons\">\n            <Link to=\"/profile\">\n                <img src=\"/assets/user.jpg\" alt=\"Profile\" className=\"icon\" />\n            </Link>\n            <Link to=\"/settings\">\n                <img src=\"/assets/setting.jpg\" alt=\"Settings\" className=\"icon\" />\n            </Link>\n        </div>\n    </div>\n);\n\nconst Layout = ({ children }) => (\n    <div className=\"d-flex\" id=\"wrapper\">\n        <div id=\"page-content-wrapper\">\n            <Header />\n            {/* Page content */}\n            <div className=\"container-fluid\">\n                {children}\n            </div>\n        </div>\n    </div>\n);\n\nexport default Layout;\n","import React from \"react\";\nimport BasicMenu from '../components/menus/basic';\n\nfunction BasicLayout({children}){\n    return(\n        <header>\n          <BasicMenu/>\n        <div>\n            <main>\n                {children}\n            </main>\n        </div>\n        </header>\n    )\n}\n\nexport default BasicLayout;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom'; // useNavigate 사용\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport BasicLayout from \"../../layout/BasicLayout\";\n\nfunction BoardModify() {\n    const [dto, setDto] = useState({});\n    const [fileNames, setFileNames] = useState([]);\n    const [filesToRemove, setFilesToRemove] = useState([]);\n    // eslint-disable-next-line no-unused-vars\n    const [uploadFiles, setUploadFiles] = useState([]);\n    // eslint-disable-next-line no-unused-vars\n    const [errors, setErrors] = useState([]);\n    const navigate = useNavigate(); // history를 navigate로 변경\n    const { bno } = useParams();\n\n    useEffect(() => {\n        // 데이터를 가져오는 함수\n        const fetchData = async () => {\n            try {\n                const response = await axios.get(`http://localhost:8080/api/api/board/${bno}`);\n                setDto(response.data);\n                setFileNames(response.data.fileNames || []);\n            } catch (error) {\n                console.error('Error fetching board data:', error);\n            }\n        };\n\n        fetchData();\n    }, [bno]);\n\n    // 게시물 수정 함수\n    const handleModify = async () => {\n        try {\n            const formData = new FormData();\n            formData.append('bno', dto.bno);\n            formData.append('title', dto.title);\n            formData.append('content', dto.content);\n            formData.append('writer', dto.writer);\n            fileNames.forEach(fileName => formData.append('fileNames', fileName)); // 수정: fileNames는 배열이므로 여러 번 추가\n            filesToRemove.forEach(file => {\n                formData.append('removeFileNames', `${file.uuid}_${file.fileName}`);\n            });\n\n            await axios.post('http://localhost:8080/api/board/modify', formData);\n            navigate('/board/list'); // history.push를 navigate로 변경\n        } catch (error) {\n            console.error('Error modifying board:', error);\n        }\n    };\n\n    // 게시물 삭제 함수\n    const handleRemove = async () => {\n        try {\n            await axios.post('http://localhost:8080/api/board/remove', { bno: dto.bno });\n            navigate('/board/list'); // history.push를 navigate로 변경\n        } catch (error) {\n            console.error('Error removing board:', error);\n        }\n    };\n\n    // 파일 업로드 함수\n    const handleUploadFiles = async (event) => {\n        try {\n            const formData = new FormData();\n            Array.from(event.target.files).forEach(file => formData.append('files', file));\n\n            const response = await axios.post('http://localhost:8080/api/board/upload', formData);\n            setUploadFiles(response.data);\n        } catch (error) {\n            console.error('Error uploading files:', error);\n        }\n    };\n\n    // 파일 삭제 함수\n    const handleFileRemove = (uuid, fileName) => {\n        if (!window.confirm('파일을 삭제하시겠습니까?')) return;\n        setFilesToRemove([...filesToRemove, { uuid, fileName }]);\n        setFileNames(fileNames.filter(file => file !== `${uuid}_${fileName}`));\n    };\n\n    return (\n        <BasicLayout>\n        <div className=\"container mt-3\">\n            <div className=\"card\">\n                <div className=\"card-header\">Board Modify</div>\n                <div className=\"card-body\">\n                    <form id=\"f1\" onSubmit={e => e.preventDefault()}>\n                        <div className=\"input-group mb-3\">\n                            <span className=\"input-group-text\">Bno</span>\n                            <input type=\"text\" className=\"form-control\" value={dto.bno || ''} name=\"bno\" readOnly />\n                        </div>\n                        <div className=\"input-group mb-3\">\n                            <span className=\"input-group-text\">Title</span>\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                value={dto.title || ''}\n                                onChange={e => setDto({ ...dto, title: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"input-group mb-3\">\n                            <span className=\"input-group-text\">Content</span>\n                            <textarea\n                                className=\"form-control\"\n                                rows=\"5\"\n                                value={dto.content || ''}\n                                onChange={e => setDto({ ...dto, content: e.target.value })}\n                            ></textarea>\n                        </div>\n                        <div className=\"input-group mb-3\">\n                            <span className=\"input-group-text\">Writer</span>\n                            <input type=\"text\" className=\"form-control\" value={dto.writer || ''} readOnly />\n                        </div>\n                        <div className=\"input-group mb-3\">\n                            <span className=\"input-group-text\">RegDate</span>\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                value={dto.regDate ? new Date(dto.regDate).toLocaleString() : ''}\n                                readOnly\n                            />\n                        </div>\n                        <div className=\"input-group mb-3\">\n                            <span className=\"input-group-text\">ModDate</span>\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                value={dto.modDate ? new Date(dto.modDate).toLocaleString() : ''}\n                                readOnly\n                            />\n                        </div>\n                        <div className=\"my-4\">\n                            <div className=\"float-end\">\n                                <button className=\"btn btn-primary\" type=\"button\" onClick={handleModify}>\n                                    Modify\n                                </button>\n                                <button className=\"btn btn-danger\" type=\"button\" onClick={handleRemove}>\n                                    Remove\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <div className=\"row mt-3\">\n                <div className=\"col\">\n                    <div className=\"container-fluid d-flex uploadResult\" style={{ flexWrap: 'wrap' }}>\n                        {fileNames.map((fileName, index) => {\n                            const [uuid, file] = fileName.split('_');\n                            return (\n                                <div className=\"card col-4\" key={index}>\n                                    <div className=\"card-header d-flex justify-content-center\">\n                                        {file}\n                                        <button\n                                            className=\"btn-sm btn-danger\"\n                                            onClick={() => handleFileRemove(uuid, file)}\n                                        >\n                                            X\n                                        </button>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <img src={`/view/s_${fileName}`} alt={file} />\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </div>\n            <div\n                className=\"modal fade uploadModal\"\n                tabIndex=\"-1\"\n                role=\"dialog\"\n                aria-labelledby=\"uploadModalLabel\"\n                aria-hidden=\"true\"\n            >\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"uploadModalLabel\">\n                                Upload File\n                            </h5>\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div className=\"modal-body\">\n                            <input\n                                type=\"file\"\n                                className=\"form-control\"\n                                multiple\n                                onChange={handleUploadFiles}\n                            />\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-primary\"\n                                onClick={handleUploadFiles} // 수정: 이 버튼은 파일 업로드를 트리거하지 않음\n                            >\n                                Upload\n                            </button>\n                            <button type=\"button\" className=\"btn btn-outline-dark\" data-bs-dismiss=\"modal\">\n                                Close\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </BasicLayout>\n    );\n}\n\nexport default BoardModify;\n"],"names":["Header","_jsxs","className","children","_jsx","Link","to","src","alt","_ref","id","BasicMenu","dto","setDto","useState","fileNames","setFileNames","filesToRemove","setFilesToRemove","uploadFiles","setUploadFiles","errors","setErrors","navigate","useNavigate","bno","useParams","useEffect","async","response","axios","get","data","error","console","fetchData","handleUploadFiles","formData","FormData","Array","from","event","target","files","forEach","file","append","post","BasicLayout","onSubmit","e","preventDefault","type","value","name","readOnly","title","onChange","rows","content","writer","regDate","Date","toLocaleString","modDate","onClick","fileName","uuid","style","flexWrap","map","index","split","handleFileRemove","window","confirm","filter","tabIndex","role","multiple"],"sourceRoot":""}