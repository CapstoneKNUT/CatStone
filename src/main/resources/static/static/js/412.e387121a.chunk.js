"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[412],{879:(e,a,s)=>{s.d(a,{A:()=>i});s(43);var t=s(475),l=(s(665),s(945),s(579));const n=()=>(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)(t.Link,{className:"header-item",to:"/main",children:"\ud83c\udfe0 Home"}),(0,l.jsx)(t.Link,{className:"header-item",to:"/place/list",children:"\uc5ec\ud589\uc9c0 \uc815\ubcf4"}),(0,l.jsx)(t.Link,{className:"header-item",to:"/board/list",children:"\ub9ac\ubdf0 \ubaa9\ub85d"}),(0,l.jsx)(t.Link,{className:"header-item",to:"/mypage",children:"\ub9c8\uc774 \ud398\uc774\uc9c0"}),(0,l.jsxs)("div",{className:"header-icons",children:[(0,l.jsx)(t.Link,{to:"/profile",children:(0,l.jsx)("img",{src:"/assets/user.jpg",alt:"Profile",className:"icon"})}),(0,l.jsx)(t.Link,{to:"/settings",children:(0,l.jsx)("img",{src:"/assets/setting.jpg",alt:"Settings",className:"icon"})})]})]}),r=e=>{let{children:a}=e;return(0,l.jsx)("div",{className:"d-flex",id:"wrapper",children:(0,l.jsxs)("div",{id:"page-content-wrapper",children:[(0,l.jsx)(n,{}),(0,l.jsx)("div",{className:"container-fluid",children:a})]})})};const i=function(e){let{children:a}=e;return(0,l.jsxs)("header",{children:[(0,l.jsx)(r,{}),(0,l.jsx)("div",{children:(0,l.jsx)("main",{children:a})})]})}},412:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(43),l=s(213),n=s(216),r=(s(665),s(945),s(879)),i=s(579);const o=function(){const[e,a]=(0,t.useState)({}),[s,o]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[h,u]=(0,t.useState)([]),x=(0,n.Zp)(),{bno:j}=(0,n.g)();(0,t.useEffect)((()=>{(async()=>{try{const e=await l.A.get(`http://localhost:8080/api/api/board/${j}`);a(e.data),o(e.data.fileNames||[])}catch(e){console.error("Error fetching board data:",e)}})()}),[j]);const b=async e=>{try{const a=new FormData;Array.from(e.target.files).forEach((e=>a.append("files",e)));const s=await l.A.post("http://localhost:8080/api/board/upload",a);p(s.data)}catch(a){console.error("Error uploading files:",a)}};return(0,i.jsx)(r.A,{children:(0,i.jsxs)("div",{className:"container mt-3",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header",children:"Board Modify"}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("form",{id:"f1",onSubmit:e=>e.preventDefault(),children:[(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"Bno"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.bno||"",name:"bno",readOnly:!0})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"Title"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.title||"",onChange:s=>a({...e,title:s.target.value})})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"Content"}),(0,i.jsx)("textarea",{className:"form-control",rows:"5",value:e.content||"",onChange:s=>a({...e,content:s.target.value})})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"Writer"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.writer||"",readOnly:!0})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"RegDate"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.regDate?new Date(e.regDate).toLocaleString():"",readOnly:!0})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",children:"ModDate"}),(0,i.jsx)("input",{type:"text",className:"form-control",value:e.modDate?new Date(e.modDate).toLocaleString():"",readOnly:!0})]}),(0,i.jsx)("div",{className:"my-4",children:(0,i.jsxs)("div",{className:"float-end",children:[(0,i.jsx)("button",{className:"btn btn-primary",type:"button",onClick:async()=>{try{const a=new FormData;a.append("bno",e.bno),a.append("title",e.title),a.append("content",e.content),a.append("writer",e.writer),s.forEach((e=>a.append("fileNames",e))),c.forEach((e=>{a.append("removeFileNames",`${e.uuid}_${e.fileName}`)})),await l.A.post("http://localhost:8080/api/board/modify",a),x("/board/list")}catch(a){console.error("Error modifying board:",a)}},children:"Modify"}),(0,i.jsx)("button",{className:"btn btn-danger",type:"button",onClick:async()=>{try{await l.A.post("http://localhost:8080/api/board/remove",{bno:e.bno}),x("/board/list")}catch(a){console.error("Error removing board:",a)}},children:"Remove"})]})})]})})]}),(0,i.jsx)("div",{className:"row mt-3",children:(0,i.jsx)("div",{className:"col",children:(0,i.jsx)("div",{className:"container-fluid d-flex uploadResult",style:{flexWrap:"wrap"},children:s.map(((e,a)=>{const[t,l]=e.split("_");return(0,i.jsxs)("div",{className:"card col-4",children:[(0,i.jsxs)("div",{className:"card-header d-flex justify-content-center",children:[l,(0,i.jsx)("button",{className:"btn-sm btn-danger",onClick:()=>((e,a)=>{window.confirm("\ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(d([...c,{uuid:e,fileName:a}]),o(s.filter((s=>s!==`${e}_${a}`))))})(t,l),children:"X"})]}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsx)("img",{src:`/view/s_${e}`,alt:l})})]},a)}))})})}),(0,i.jsx)("div",{className:"modal fade uploadModal",tabIndex:"-1",role:"dialog","aria-labelledby":"uploadModalLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"uploadModalLabel",children:"Upload File"}),(0,i.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsx)("input",{type:"file",className:"form-control",multiple:!0,onChange:b})}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:b,children:"Upload"}),(0,i.jsx)("button",{type:"button",className:"btn btn-outline-dark","data-bs-dismiss":"modal",children:"Close"})]})]})})})]})})}}}]);
//# sourceMappingURL=412.e387121a.chunk.js.map